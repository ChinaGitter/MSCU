var objImgVideoPlayerPreview="";function load_ctlMediaPlayerControl(c){var b=c.getHost(),a=b.id;if(!window.mediaPlayer)window.mediaPlayer={};if(!mediaPlayer.players)mediaPlayer.players={};mediaPlayer.players[a]=b;ExecuteOrDelayUntilScriptLoaded(function(){Pub.Ribbon.PubRibbonComponent.mediaPlayerLoaded(mediaPlayer.players[a])},"sp.ui.pub.ribbon.js")}function resize_ctlMediaPlayerControl(b){var a=b.getHost().id;ExecuteOrDelayUntilScriptLoaded(function(){Pub.Ribbon.PubRibbonComponent.mediaPlayerResized(mediaPlayer.players[a])},"sp.ui.pub.ribbon.js")}$(document).ready(function(){MSCUMediaPlayerRetrieveListItems()});function MSCUMediaPlayer(b){try{var e=window.location.href.toString().toLowerCase().split("pages")[0],c="#"+b,a=$(c),f=a.width()+"px",d=a.height()+"px";$.getScript(e+"/_layouts/mediaplayer.js",function(){var c=a.attr("mediaSource"),e=a.attr("previewImageSource"),g=$('<img id="imgVideoPlayerPreview" src="'+e+'" />');a.append(g);(c!=null&&c!="undefined"||c=="")&&g.click(function(){$(this).css("display","none");mediaPlayer.createMediaPlayer(document.getElementById(b),b+"Player",f,d,{displayMode:"Inline",mediaTitle:"",mediaSource:c,previewImageSource:e,autoPlay:true,loop:false,mediaFileExtensions:"wmv;wma;avi;mpg;mp3;",silverlightMediaExtensions:"wmv;wma;mp3;"})})})}catch(g){MSCUErrorHandler(g,"MSCUMediaPlayer")}}function MSCUListItemMediaPlayer(b){try{var c="#"+b,a=$(c),i=a.attr("mediaSource"),h=a.attr("previewImageSource"),f=a.attr("mediaTitle"),g=a.width()+"px",d=a.height()+"px",e=window.location.href.toString().toLowerCase().split("pages")[0];$.getScript(e+"/_layouts/mediaplayer.js",function(){var e=a.attr("mediaSource"),c=a.attr("previewImageSource");mediaPlayer.createMediaPlayer(document.getElementById(b),b+"Player",g,d,{displayMode:"Inline",mediaTitle:f,mediaSource:e,previewImageSource:c,autoPlay:true,loop:false,mediaFileExtensions:"wmv;wma;avi;mpg;mp3;",silverlightMediaExtensions:"wmv;wma;mp3;"})})}catch(j){MSCUErrorHandler(j,"MSCUMediaPlayer")}}function MSCUMediaPlayerRetrieveListItems(){try{if(IsEditMode())return;var a="ctlMediaPlayerControl";MSCUMediaPlayer(a)}catch(b){MSCUErrorHandler(b,"MSCUMediaPlayerRetrieveListItems")}}function playVideoFromUrl(h){try{$("#imgVideoPlayerPreview").css("display","none");var b="ctlMediaPlayerControl",d="#"+b,a=$(d),f=h,c=a.attr("previewImageSource"),i=a.attr("mediaTitle"),g=a.width()+"px",e=a.height()+"px";mediaPlayer.createMediaPlayer(document.getElementById(b),b+"Player",g,e,{displayMode:"Inline",mediaTitle:"",mediaSource:f,previewImageSource:c,autoPlay:true,loop:false,mediaFileExtensions:"wmv;wma;avi;mpg;mp3;",silverlightMediaExtensions:"wmv;wma;mp3;"})}catch(j){MSCUErrorHandler(j.message,"MSCUMediaPlayer.playVideoFromUrl")}}